%%{init: {'theme':'neutral'}}%%
graph LR
    subgraph "Step-by-Step Processing"
        A1["nums = [2, 5, 1, 8, 6, 7, 3]"]
        A2["tails = [] (starts empty)"]
        A3["Process 2 → tails = [2]"]
        A4["Process 5 → tails = [2, 5]"]
        A5["Process 1 → tails = [1, 5] (replace 2 with 1)"]
        A6["Process 8 → tails = [1, 5, 8]"]
        A7["Process 6 → tails = [1, 5, 6] (replace 8 with 6)"]
        A8["Process 7 → tails = [1, 5, 6, 7] (append 7)"]
        A9["Process 3 → tails = [1, 3, 6, 7] (replace 5 with 3)"]
        A10["Result: len(tails) = 4"]
    end

    classDef box fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#01579b
    class A1,A2,A3,A4,A5,A6,A7,A8,A9,A10 box